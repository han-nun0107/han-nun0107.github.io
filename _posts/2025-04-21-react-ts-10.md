---
title: "Context APIì™€ ìƒíƒœê´€ë¦¬"
excerpt: "CartProviderì™€ MenuProviderë¡œ <App />ì„ ê°ì‹¸ë©´, App ë‚´ë¶€ì˜ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ useCart, useMenuë¥¼ í†µí•´ ì „ì—­ ìƒíƒœì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. Reactì˜ Context APIëŠ” í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ ì „ì²´ì— ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ë° ìœ ìš©í•˜ë‹¤."

categories:
  - React+Ts
tags:
  - [React, context-api, ë¦¬ì•¡íŠ¸ ì „ì—­ ê³µìœ ]

permalink: /categories4/React+Ts-10/

toc: true
toc_sticky: true

date: 2025-04-21
last_modified_at: 2025-04-21
---

## ğŸ¦¥ ë³¸ë¬¸

---

### âœ… React ìƒíƒœ ê´€ë¦¬ ë°©ë²•

| ë‚´ë¶€ ìƒíƒœ ê´€ë¦¬ | ì™¸ë¶€ ìƒíƒœ ê´€ë¦¬                                                     |
| -------------- | ------------------------------------------------------------------ |
| `useState`     | Redux, Redux Toolkit, Context API, Recoil, MobX, Zustand, Jotai ë“± |

---

### âœ… Context API ì‚¬ìš© ë²•

- `createContext`ë¡œ ì „ì—­ ìƒíƒœ **ë§Œë“¤ê¸°**
- `Provider`ë¡œ ì „ì—­ ìƒíƒœ **ì—°ê²°í•´ ì£¼ê¸°**
- `useContext`ë¡œ ì „ì—­ ìƒíƒœ **ê°€ì ¸ì™€ ì£¼ê¸°**

---

### âœ… Context APIë€?

- Reactì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë„êµ¬ì´ë‹¤.
- Context APIëŠ” ë¦¬ì•¡íŠ¸ì—ì„œ **ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬**í•˜ê¸° ìœ„í•œ **ë‚´ì¥ ê¸°ëŠ¥**ì´ë‹¤.
- ë¶€ëª¨ â†’ ìì‹ â†’ ì†ì â†’ ì¦ì†ìì²˜ëŸ¼ Propsë¥¼ ê¹Šê²Œ ì „ë‹¬í•˜ì§€ ì•Šì•„ë„, ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°’ì„ ì§ì ‘ êº¼ë‚´ ì“¸ ìˆ˜ ìˆë‹¤. (ì „ì—­ìœ¼ë¡œ ê³µìœ ë¨)

ì˜ˆ: ë¡œê·¸ì¸ ì •ë³´ë‚˜ ì¥ë°”êµ¬ë‹ˆ ì •ë³´(cart)ë¥¼ ì—¬ëŸ¬ í™”ë©´ì—ì„œ ê³„ì† ì‚¬ìš©í•´ì•¼ í•  ë•Œ ìœ ìš©í•¨.

---

### âœ… ì–¸ì œ Context APIë¥¼ ì‚¬ìš©í•˜ë‚˜ìš”?

- ì¥ë°”êµ¬ë‹ˆ(cart) ìƒíƒœë¥¼ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€, ìƒì„¸ í˜ì´ì§€, ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ ë“±ì—ì„œ **ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ í•  ë•Œ**
- App ì»´í¬ë„ŒíŠ¸ì—ì„œ cart ìƒíƒœë¥¼ propsë¡œ ê³„ì† ë„˜ê¸°ë©´ **props drilling**ì´ ë°œìƒí•¨
- ë¡œê·¸ì¸ ì •ë³´, ì¥ë°”êµ¬ë‹ˆì²˜ëŸ¼ ì•± ì „ì²´ì—ì„œ **ê³µí†µìœ¼ë¡œ ì €ì¥ëœ ê°’ì„ ì—¬ëŸ¬ ê³³ì—ì„œ ì°¸ì¡°í•´ì•¼ í•  ë•Œ** Context APIë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ

---

### âœ… ì „ì—­ ìƒíƒœ ë§Œë“¤ê¸°: `createContext()`

```js
import { createContext } from "react";

export const CartContext = createContext();
```

- ì´ë ‡ê²Œ í•˜ë©´ `CartContext`ë¼ëŠ” **ë°ì´í„° ì°½ê³ **ë¥¼ í•˜ë‚˜ ë§Œë“¤ê²Œ ë¨
- ì´ ì°½ê³ ì— ë°ì´í„°ë¥¼ ë„£ê³ , ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë“¤ì´ êº¼ë‚´ ì“¸ ìˆ˜ ìˆìŒ

---

### âœ… Providerë¡œ ì „ì—­ ìƒíƒœ ì—°ê²°í•˜ê¸°

```js
import { useState } from "react";
import { CartContext } from "./CartContext";

export const CartProvider = ({ children }) => {
  const [cart, setCart] = useState([]);

  return (
    <CartContext.Provider value={{ cart, setCart }}>
      {children}
    </CartContext.Provider>
  );
};
```

- `CartProvider`ëŠ” ë°ì´í„°ë¥¼ **ê³µê¸‰(ì œê³µ)**í•˜ëŠ” ì»´í¬ë„ŒíŠ¸
- ì´ ì»´í¬ë„ŒíŠ¸ë¡œ ê°ì‹¸ë©´ ì•ˆìª½ ì»´í¬ë„ŒíŠ¸ë“¤ì´ `cart`, `setCart`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
- `children`ì€ Provider ì•ˆì— í¬í•¨ëœ ì»´í¬ë„ŒíŠ¸ë“¤ (ì˜ˆ: `<App />`)

---

### âœ… ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ (ì»¤ìŠ¤í…€ í›… í¬í•¨)

```js
import { createContext, useContext, useState } from "react";

const cartContext = createContext();

export function CartProvider({ children }) {
  const [cart, setCart] = useState([]);

  const addToCart = (quantity, options, id) => {
    setCart([...cart, { quantity, options, id }]);
  };

  const removeFromCart = (id) => {
    setCart(cart.filter((el) => el.id !== id));
  };

  return (
    <cartContext.Provider value={{ cart, setCart, addToCart, removeFromCart }}>
      {children}
    </cartContext.Provider>
  );
}

export function useCart() {
  return useContext(cartContext);
}
```

- `useCart()`ë¼ëŠ” **ì»¤ìŠ¤í…€ í›…**ì„ ë§Œë“¤ì–´ì„œ, cart ìƒíƒœì™€ ê´€ë ¨ëœ í•¨ìˆ˜ë“¤ì„ ì‰½ê²Œ êº¼ë‚´ ì“¸ ìˆ˜ ìˆìŒ

---

### âœ… ì‚¬ìš© ì˜ˆì‹œ ì»´í¬ë„ŒíŠ¸ (ì¥ë°”êµ¬ë‹ˆ ë¦¬ìŠ¤íŠ¸ ë³´ì—¬ì£¼ê¸°)

```js
import { useCart } from "../context/cartContext";

function CartList() {
  const { cart, removeFromCart } = useCart();

  return (
    <ul>
      {cart.map((item, idx) => (
        <li key={idx}>
          {item.id} - ìˆ˜ëŸ‰: {item.quantity}
          <button onClick={() => removeFromCart(item.id)}>ì‚­ì œ</button>
        </li>
      ))}
    </ul>
  );
}
```

- `useCart()` í›…ì„ ì‚¬ìš©í•´ì„œ `cart` ìƒíƒœë¥¼ ê°€ì ¸ì™€ í™”ë©´ì— ë³´ì—¬ì¤Œ
- `removeFromCart` í•¨ìˆ˜ë¥¼ ëˆŒëŸ¬ì„œ í•´ë‹¹ ì•„ì´í…œì„ ì¥ë°”êµ¬ë‹ˆì—ì„œ ì œê±°í•  ìˆ˜ ìˆìŒ
- ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì¥ë°”êµ¬ë‹ˆ ìƒíƒœë¥¼ ê³µìœ í•  ìˆ˜ ìˆì–´ì„œ ìœ ì§€ ë³´ìˆ˜ì™€ ê´€ë¦¬ê°€ ì‰¬ì›Œì§

---

### âœ… ì •ë¦¬

1. **createContext()** : ì „ì—­ ìƒíƒœë¥¼ ìœ„í•œ ë°ì´í„° ì°½ê³  ë§Œë“¤ê¸°
2. **Provider** : ë§Œë“  ì°½ê³ ë¥¼ ì»´í¬ë„ŒíŠ¸ì— ì—°ê²°í•´ì£¼ê¸°
3. **useContext() (ë˜ëŠ” ì»¤ìŠ¤í…€ í›…)** : ì°½ê³ ì—ì„œ ê°’ êº¼ë‚´ì“°ê¸°
